<?php
// testing library
require('ocr.bank.php');

// testing code
$ratio = (2975 / 768);
$core_result = json_decode('{"lang":"en","doc":{"173":[{"x":534,"y":174,"w":122,"h":35,"t":"HANG"},{"x":673,"y":173,"w":119,"h":36,"t":"SENG"},{"x":811,"y":174,"w":122,"h":35,"t":"BANK"}],"382":[{"x":375,"y":386,"w":136,"h":34,"t":"Branch"},{"x":640,"y":386,"w":157,"h":34,"t":"METRO"},{"x":813,"y":386,"w":101,"h":34,"t":"CITY"},{"x":1581,"y":383,"w":99,"h":33,"t":"Bank"},{"x":1695,"y":382,"w":104,"h":34,"t":"Code"},{"x":2040,"y":386,"w":72,"h":34,"t":"024"},{"x":2331,"y":383,"w":101,"h":42,"t":"Page"},{"x":2508,"y":383,"w":13,"h":33,"t":"1"},{"x":2543,"y":382,"w":38,"h":34,"t":"of"},{"x":2596,"y":383,"w":13,"h":33,"t":"1"}],"476":[{"x":1578,"y":479,"w":162,"h":33,"t":"Account"},{"x":1756,"y":479,"w":158,"h":33,"t":"Number"},{"x":1932,"y":476,"w":39,"h":43,"t":"F"},{"x":2284,"y":477,"w":329,"h":34,"t":"789-654321-987"}],"711":[{"x":375,"y":712,"w":105,"h":34,"t":"MISS"},{"x":496,"y":711,"w":62,"h":35,"t":"NO"},{"x":574,"y":711,"w":94,"h":35,"t":"ONE"},{"x":685,"y":711,"w":139,"h":35,"t":"KNOW"}],"789":[{"x":375,"y":790,"w":64,"h":32,"t":"RM"},{"x":455,"y":789,"w":72,"h":33,"t":"888"}],"865":[{"x":373,"y":866,"w":83,"h":33,"t":"TAT"},{"x":473,"y":865,"w":128,"h":34,"t":"HONG"},{"x":620,"y":865,"w":154,"h":34,"t":"HOUSE"}],"942":[{"x":375,"y":942,"w":60,"h":34,"t":"PO"},{"x":450,"y":943,"w":84,"h":32,"t":"TAT"},{"x":550,"y":942,"w":170,"h":34,"t":"ESTATE"}],"1019":[{"x":374,"y":1019,"w":87,"h":34,"t":"SAU"},{"x":480,"y":1019,"w":93,"h":34,"t":"MAU"},{"x":592,"y":1019,"w":105,"h":34,"t":"PING"},{"x":715,"y":1019,"w":80,"h":33,"t":"KLN"}],"1173":[{"x":2034,"y":1173,"w":90,"h":33,"t":"Date"},{"x":2309,"y":1173,"w":177,"h":42,"t":"February"},{"x":2499,"y":1173,"w":98,"h":33,"t":"2018"}],"1361":[{"x":783,"y":1361,"w":253,"h":39,"t":"Statement"},{"x":1053,"y":1361,"w":49,"h":39,"t":"of"},{"x":1115,"y":1361,"w":111,"h":39,"t":"ATM"},{"x":1246,"y":1361,"w":198,"h":50,"t":"Savings"},{"x":1462,"y":1361,"w":210,"h":39,"t":"Account"},{"x":1687,"y":1361,"w":111,"h":39,"t":"ATM"}],"1483":[{"x":355,"y":1483,"w":59,"h":34,"t":"TO"},{"x":429,"y":1483,"w":162,"h":33,"t":"VERIFY"},{"x":605,"y":1483,"w":274,"h":34,"t":"SUSPICIOUS"},{"x":895,"y":1483,"w":173,"h":34,"t":"CALLER"},{"x":1085,"y":1483,"w":201,"h":33,"t":"IDENTITY"},{"x":1302,"y":1483,"w":79,"h":34,"t":"PLS"},{"x":1395,"y":1483,"w":91,"h":34,"t":"ASK"},{"x":1502,"y":1483,"w":91,"h":34,"t":"FOR"},{"x":1606,"y":1483,"w":134,"h":33,"t":"THEIR"},{"x":1755,"y":1483,"w":215,"h":34,"t":"CONTACT"},{"x":1986,"y":1483,"w":73,"h":34,"t":"NO."},{"x":2077,"y":1483,"w":27,"h":34,"t":"&"},{"x":2120,"y":1483,"w":109,"h":34,"t":"CALL"},{"x":2246,"y":1483,"w":57,"h":34,"t":"US"},{"x":2317,"y":1483,"w":57,"h":33,"t":"AT"},{"x":2389,"y":1483,"w":97,"h":34,"t":"2822"}],"1535":[{"x":356,"y":1536,"w":107,"h":34,"t":"0228."},{"x":482,"y":1536,"w":147,"h":34,"t":"PRESS"},{"x":645,"y":1536,"w":22,"h":34,"t":"9"},{"x":681,"y":1536,"w":147,"h":33,"t":"AFTER"},{"x":844,"y":1535,"w":245,"h":35,"t":"LANGUAGE"},{"x":1105,"y":1535,"w":262,"h":35,"t":"SELECTION."}],"1659":[{"x":375,"y":1659,"w":88,"h":32,"t":"Date"},{"x":551,"y":1659,"w":241,"h":32,"t":"Transaction"},{"x":809,"y":1659,"w":137,"h":32,"t":"Details"},{"x":1331,"y":1659,"w":155,"h":40,"t":"Deposit"},{"x":1737,"y":1659,"w":227,"h":32,"t":"Withdrawal"},{"x":2138,"y":1659,"w":161,"h":32,"t":"Balance"},{"x":2316,"y":1659,"w":33,"h":31,"t":"in"},{"x":2366,"y":1659,"w":88,"h":31,"t":"HKD"}],"1786":[{"x":374,"y":1786,"w":35,"h":30,"t":"31"},{"x":428,"y":1786,"w":61,"h":30,"t":"Jan"},{"x":543,"y":1786,"w":58,"h":30,"t":"B\/F"},{"x":616,"y":1786,"w":141,"h":30,"t":"Balance"},{"x":2452,"y":1786,"w":97,"h":30,"t":"77.89"}],"1838":[{"x":373,"y":1839,"w":42,"h":29,"t":"07"},{"x":430,"y":1839,"w":65,"h":29,"t":"Feb"},{"x":542,"y":1838,"w":216,"h":30,"t":"STANFORD"},{"x":774,"y":1838,"w":133,"h":30,"t":"POOLS"},{"x":922,"y":1838,"w":26,"h":30,"t":"C"},{"x":963,"y":1839,"w":18,"h":29,"t":"L"},{"x":1594,"y":1839,"w":119,"h":29,"t":"357.00"},{"x":2429,"y":1839,"w":121,"h":29,"t":"434.89"}],"1885":[{"x":542,"y":1885,"w":156,"h":30,"t":"SALARY"}],"1937":[{"x":373,"y":1937,"w":42,"h":30,"t":"08"},{"x":430,"y":1937,"w":65,"h":30,"t":"Feb"},{"x":543,"y":1937,"w":209,"h":30,"t":"EPS003612"},{"x":767,"y":1937,"w":190,"h":38,"t":"(07FEB18)"},{"x":2005,"y":1937,"w":116,"h":30,"t":"160.00"}],"1984":[{"x":543,"y":1984,"w":81,"h":30,"t":"MCL"},{"x":637,"y":1984,"w":184,"h":30,"t":"TELFORD"},{"x":835,"y":1984,"w":154,"h":30,"t":"CINEMA"}],"2038":[{"x":543,"y":2038,"w":209,"h":30,"t":"EPS021609"},{"x":767,"y":2038,"w":190,"h":37,"t":"(08FEB18)"},{"x":2002,"y":2038,"w":119,"h":30,"t":"222.00"},{"x":2452,"y":2038,"w":97,"h":30,"t":"52.89"}],"2084":[{"x":542,"y":2085,"w":189,"h":29,"t":"7-ELEVEN"},{"x":748,"y":2085,"w":53,"h":29,"t":"HK"},{"x":814,"y":2084,"w":112,"h":38,"t":"(0172)"}],"2138":[{"x":376,"y":2139,"w":38,"h":29,"t":"12"},{"x":430,"y":2139,"w":65,"h":29,"t":"Feb"},{"x":544,"y":2138,"w":112,"h":30,"t":"FROM"},{"x":672,"y":2139,"w":182,"h":29,"t":"KEYLAND"},{"x":867,"y":2138,"w":191,"h":30,"t":"YOULEND"},{"x":1594,"y":2139,"w":119,"h":29,"t":"500.00"},{"x":2430,"y":2139,"w":120,"h":29,"t":"552.89"}],"2185":[{"x":545,"y":2185,"w":105,"h":30,"t":"12926"},{"x":732,"y":2185,"w":190,"h":38,"t":"(12FEB18)"}],"2236":[{"x":376,"y":2236,"w":39,"h":30,"t":"13"},{"x":430,"y":2237,"w":65,"h":29,"t":"Feb"},{"x":541,"y":2237,"w":81,"h":29,"t":"ATM"},{"x":636,"y":2236,"w":272,"h":30,"t":"WITHDRAWAL"},{"x":2002,"y":2237,"w":119,"h":29,"t":"200.00"}],"2283":[{"x":543,"y":2283,"w":190,"h":38,"t":"(13FEB18)"}],"2337":[{"x":540,"y":2337,"w":82,"h":30,"t":"ATM"},{"x":637,"y":2337,"w":214,"h":30,"t":"TRANSFER"},{"x":863,"y":2337,"w":53,"h":30,"t":"TO"},{"x":2023,"y":2337,"w":98,"h":30,"t":"48.00"},{"x":2430,"y":2337,"w":120,"h":30,"t":"304.89"}],"2384":[{"x":542,"y":2385,"w":291,"h":29,"t":"769-133893-668"},{"x":847,"y":2384,"w":190,"h":38,"t":"(13FEB18)"}],"2439":[{"x":430,"y":2439,"w":65,"h":29,"t":"Feb"},{"x":540,"y":2439,"w":82,"h":29,"t":"ATM"},{"x":636,"y":2439,"w":272,"h":29,"t":"WITHDRAWAL"},{"x":2002,"y":2439,"w":119,"h":29,"t":"200.00"},{"x":2433,"y":2439,"w":117,"h":29,"t":"104.89"}],"2485":[{"x":543,"y":2485,"w":190,"h":38,"t":"(14FEB18)"}],"2539":[{"x":376,"y":2539,"w":39,"h":30,"t":"15"},{"x":430,"y":2539,"w":65,"h":30,"t":"Feb"},{"x":540,"y":2539,"w":82,"h":29,"t":"ATM"},{"x":636,"y":2539,"w":272,"h":29,"t":"WITHDRAWAL"},{"x":2005,"y":2539,"w":116,"h":30,"t":"100.00"},{"x":2472,"y":2539,"w":77,"h":30,"t":"4.89"}],"2585":[{"x":543,"y":2585,"w":190,"h":38,"t":"(15FEB18)"}],"2655":[{"x":373,"y":2655,"w":42,"h":30,"t":"28"},{"x":430,"y":2655,"w":65,"h":30,"t":"Feb"},{"x":542,"y":2655,"w":62,"h":30,"t":"C\/F"},{"x":619,"y":2655,"w":140,"h":30,"t":"Balance"},{"x":2472,"y":2655,"w":77,"h":30,"t":"4.89"}],"2826":[{"x":541,"y":2826,"w":206,"h":30,"t":"Transaction"},{"x":762,"y":2826,"w":169,"h":37,"t":"Summary"},{"x":1594,"y":2826,"w":119,"h":30,"t":"857.00"},{"x":2002,"y":2826,"w":119,"h":30,"t":"930.00"}],"3554":[{"x":1490,"y":3554,"w":174,"h":35,"t":"Important"},{"x":1678,"y":3554,"w":102,"h":28,"t":"Notes"}],"3630":[{"x":1488,"y":3630,"w":68,"h":38,"t":"Any"},{"x":1731,"y":3630,"w":242,"h":37,"t":"discrepancies"},{"x":1987,"y":3630,"w":113,"h":30,"t":"should"},{"x":2117,"y":3630,"w":40,"h":30,"t":"be"},{"x":2172,"y":3630,"w":144,"h":37,"t":"reported"},{"x":2330,"y":3631,"w":32,"h":29,"t":"to"},{"x":2375,"y":3630,"w":53,"h":30,"t":"the"},{"x":2444,"y":3630,"w":88,"h":30,"t":"Bank"},{"x":2545,"y":3630,"w":27,"h":29,"t":"in"}],"3638":[{"x":1569,"y":3638,"w":102,"h":22,"t":"errors"},{"x":1684,"y":3638,"w":35,"h":22,"t":"or"}],"3677":[{"x":1488,"y":3677,"w":113,"h":38,"t":"writing"},{"x":1615,"y":3677,"w":99,"h":30,"t":"within"},{"x":1729,"y":3677,"w":41,"h":30,"t":"90"},{"x":1784,"y":3677,"w":82,"h":38,"t":"days"},{"x":1880,"y":3677,"w":34,"h":30,"t":"of"},{"x":1924,"y":3677,"w":53,"h":30,"t":"the"},{"x":1991,"y":3677,"w":106,"h":30,"t":"above"},{"x":2111,"y":3678,"w":174,"h":29,"t":"statement"},{"x":2297,"y":3677,"w":85,"h":30,"t":"date."}],"3743":[{"x":863,"y":3744,"w":86,"h":30,"t":"2822"},{"x":963,"y":3744,"w":86,"h":30,"t":"0228"},{"x":1262,"y":3743,"w":11,"h":37,"t":")"},{"x":1490,"y":3744,"w":172,"h":30,"t":"Customer"},{"x":1674,"y":3744,"w":130,"h":30,"t":"Service"},{"x":1819,"y":3744,"w":121,"h":30,"t":"Hotline"},{"x":2016,"y":3744,"w":86,"h":30,"t":"2822"},{"x":2117,"y":3744,"w":86,"h":30,"t":"0228"},{"x":2217,"y":3744,"w":59,"h":38,"t":"(for"},{"x":2289,"y":3744,"w":148,"h":37,"t":"personal"},{"x":2453,"y":3744,"w":175,"h":38,"t":"customer)"}],"3800":[{"x":863,"y":3800,"w":86,"h":30,"t":"2198"},{"x":963,"y":3800,"w":86,"h":30,"t":"8000"},{"x":1262,"y":3800,"w":11,"h":36,"t":")"},{"x":2016,"y":3800,"w":87,"h":30,"t":"2198"},{"x":2117,"y":3800,"w":86,"h":30,"t":"8000"},{"x":2217,"y":3800,"w":59,"h":38,"t":"(for"},{"x":2289,"y":3800,"w":154,"h":30,"t":"business"},{"x":2457,"y":3800,"w":175,"h":38,"t":"customer)"}],"3906":[{"x":2367,"y":3906,"w":42,"h":30,"t":"08"},{"x":2423,"y":3906,"w":234,"h":30,"t":"CIFSTM0056"}],"4028":[{"x":742,"y":4028,"w":122,"h":34,"t":"HANG"},{"x":879,"y":4028,"w":121,"h":34,"t":"SENG"},{"x":1016,"y":4028,"w":117,"h":34,"t":"BANK"},{"x":1147,"y":4028,"w":169,"h":34,"t":"LIMITED"}],"4087":[{"x":742,"y":4087,"w":38,"h":28,"t":"83"},{"x":792,"y":4087,"w":172,"h":28,"t":"DesVoeux"},{"x":975,"y":4087,"w":81,"h":28,"t":"Road"},{"x":1068,"y":4087,"w":120,"h":33,"t":"Central,"},{"x":1202,"y":4087,"w":81,"h":35,"t":"Hong"},{"x":1296,"y":4087,"w":80,"h":35,"t":"Kong"}],"4137":[{"x":405,"y":4137,"w":132,"h":27,"t":"Website"},{"x":568,"y":4137,"w":330,"h":35,"t":"www.hangseng.com"},{"x":2287,"y":4138,"w":236,"h":30,"t":"MemberHSBC"},{"x":2534,"y":4139,"w":99,"h":36,"t":"Group"}]},"tags":[[534,174,122,35],[673,173,119,36],[811,174,122,35],[375,386,136,34],[640,386,157,34],[813,386,101,34],[1581,383,99,33],[1695,382,104,34],[2040,386,72,34],[2331,383,101,42],[2508,383,13,33],[2543,382,38,34],[2596,383,13,33],[1578,479,162,33],[1756,479,158,33],[1932,476,39,43],[2284,477,329,34],[375,712,105,34],[496,711,62,35],[574,711,94,35],[685,711,139,35],[375,790,64,32],[455,789,72,33],[373,866,83,33],[473,865,128,34],[620,865,154,34],[375,942,60,34],[450,943,84,32],[550,942,170,34],[374,1019,87,34],[480,1019,93,34],[592,1019,105,34],[715,1019,80,33],[2034,1173,90,33],[2309,1173,177,42],[2499,1173,98,33],[783,1361,253,39],[1053,1361,49,39],[1115,1361,111,39],[1246,1361,198,50],[1462,1361,210,39],[1687,1361,111,39],[355,1483,59,34],[429,1483,162,33],[605,1483,274,34],[895,1483,173,34],[1085,1483,201,33],[1302,1483,79,34],[1395,1483,91,34],[1502,1483,91,34],[1606,1483,134,33],[1755,1483,215,34],[1986,1483,73,34],[2077,1483,27,34],[2120,1483,109,34],[2246,1483,57,34],[2317,1483,57,33],[2389,1483,97,34],[356,1536,107,34],[482,1536,147,34],[645,1536,22,34],[681,1536,147,33],[844,1535,245,35],[1105,1535,262,35],[375,1659,88,32],[551,1659,241,32],[809,1659,137,32],[1331,1659,155,40],[1737,1659,227,32],[2138,1659,161,32],[2316,1659,33,31],[2366,1659,88,31],[374,1786,35,30],[428,1786,61,30],[543,1786,58,30],[616,1786,141,30],[2452,1786,97,30],[373,1839,42,29],[430,1839,65,29],[542,1838,216,30],[774,1838,133,30],[922,1838,26,30],[963,1839,18,29],[1594,1839,119,29],[2429,1839,121,29],[542,1885,156,30],[373,1937,42,30],[430,1937,65,30],[543,1937,209,30],[767,1937,190,38],[2005,1937,116,30],[543,1984,81,30],[637,1984,184,30],[835,1984,154,30],[543,2038,209,30],[767,2038,190,37],[2002,2038,119,30],[2452,2038,97,30],[542,2085,189,29],[748,2085,53,29],[814,2084,112,38],[376,2139,38,29],[430,2139,65,29],[544,2138,112,30],[672,2139,182,29],[867,2138,191,30],[1594,2139,119,29],[2430,2139,120,29],[545,2185,105,30],[732,2185,190,38],[376,2236,39,30],[430,2237,65,29],[541,2237,81,29],[636,2236,272,30],[2002,2237,119,29],[543,2283,190,38],[540,2337,82,30],[637,2337,214,30],[863,2337,53,30],[2023,2337,98,30],[2430,2337,120,30],[542,2385,291,29],[847,2384,190,38],[430,2439,65,29],[540,2439,82,29],[636,2439,272,29],[2002,2439,119,29],[2433,2439,117,29],[543,2485,190,38],[376,2539,39,30],[430,2539,65,30],[540,2539,82,29],[636,2539,272,29],[2005,2539,116,30],[2472,2539,77,30],[543,2585,190,38],[373,2655,42,30],[430,2655,65,30],[542,2655,62,30],[619,2655,140,30],[2472,2655,77,30],[541,2826,206,30],[762,2826,169,37],[1594,2826,119,30],[2002,2826,119,30],[1490,3554,174,35],[1678,3554,102,28],[1488,3630,68,38],[1731,3630,242,37],[1987,3630,113,30],[2117,3630,40,30],[2172,3630,144,37],[2330,3631,32,29],[2375,3630,53,30],[2444,3630,88,30],[2545,3630,27,29],[1569,3638,102,22],[1684,3638,35,22],[1488,3677,113,38],[1615,3677,99,30],[1729,3677,41,30],[1784,3677,82,38],[1880,3677,34,30],[1924,3677,53,30],[1991,3677,106,30],[2111,3678,174,29],[2297,3677,85,30],[863,3744,86,30],[963,3744,86,30],[1262,3743,11,37],[1490,3744,172,30],[1674,3744,130,30],[1819,3744,121,30],[2016,3744,86,30],[2117,3744,86,30],[2217,3744,59,38],[2289,3744,148,37],[2453,3744,175,38],[863,3800,86,30],[963,3800,86,30],[1262,3800,11,36],[2016,3800,87,30],[2117,3800,86,30],[2217,3800,59,38],[2289,3800,154,30],[2457,3800,175,38],[2367,3906,42,30],[2423,3906,234,30],[742,4028,122,34],[879,4028,121,34],[1016,4028,117,34],[1147,4028,169,34],[742,4087,38,28],[792,4087,172,28],[975,4087,81,28],[1068,4087,120,33],[1202,4087,81,35],[1296,4087,80,35],[405,4137,132,27],[568,4137,330,35],[2287,4138,236,30],[2534,4139,99,36]]}', true);
echo '<!DOCTYPE html><html><body><pre>'.json_encode(BANK($core_result, [
	'tolerance' => round(2 / $ratio),
	'txLeftBuf' => round(5 / $ratio)
]), JSON_PRETTY_PRINT).'</pre></body></html>';